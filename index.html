<!-- 完全版 UI（左：スロット＋ステータス＋カード / 右：Click＋スキルツリー） -->
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Card Slot Clicker 1to9 ver.β.1.1</title>
<style>
  body {
    background: #fafafa;
    font-family: "Segoe UI", sans-serif;
    display: flex;
    flex-direction: row;
    gap: 20px;
    padding: 20px;
  }

  /* 左側 */
  .left-area {
    width: 60%;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  /* 右側 */
  .right-area {
    width: 40%;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .panel {
    background: #ffffff;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.12);
  }

  /* スロット部分 */
  .slot-grid {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }
  .slot-cell {
    width: 100%;
    aspect-ratio: 8 / 5;
    background-size: cover;
    background-position: center;
    border-radius: 10px;
  }
  .slot-buttons { display: flex; gap: 10px; margin-top: 10px; }

  /* Click部分 */
  .click-img {
    width: 70%;
    cursor: pointer;
    user-select: none;
  }
</style>
</head>
<body>
<div class="left-area">
  <!-- スロット部分 -->
  <div class="panel">
    <h3>スロット</h3>
    <div id="slotGrid" class="slot-grid"></div>
    <div class="slot-buttons">
      <button id="spinBtn">回す(-20)</button>
      <button id="stop1">①停止</button>
      <button id="stop2">②停止</button>
      <button id="stop3">③停止</button>
    </div>
  </div>

  <!-- ステータス部分 -->
  <div class="panel">
    <h3>ステータス</h3>
    <p>コイン: <span id="coin">100</span></p>
    <p>マナ: <span id="mana">0</span></p>
  </div>

  <!-- 手札部分 -->
  <div class="panel">
    <h3>手札</h3>
    <ul id="cardList"></ul>
  </div>
</div>

<div class="right-area">
  <!-- Click部分 -->
  <div class="panel">
    <h3>Click</h3>
    <img id="clickImg" class="click-img" src="github/images/click1" />
    <p>クリック収入 : <span id="clickLv">0</span> / 回</p>
    <p>自動クリック : <span id="autoClick">0</span> / 秒</p>
  </div>

  <!-- スキルツリー -->
  <div class="panel">
    <h3>スキルツリー</h3>
    <ul id="skillList"></ul>
  </div>
</div>

<script>
// 画像
const slotImages = [
  "github/images/slot1","github/images/slot2","github/images/slot3",
  "github/images/slot4","github/images/slot5","github/images/slot6",
  "github/images/slot7","github/images/slot8","github/images/slot9"
];

// ステータス
let coin = 100;
let mana = 0;
let clickLv = 0;
let clickCost = 3;
let autoClick = 0;
let autoClickCost = 3;

function updateUI(){
 document.getElementById("coin").textContent = coin;
 document.getElementById("mana").textContent = mana;
 document.getElementById("clickLv").textContent = clickLv;
 document.getElementById("autoClick").textContent = autoClick;
}
updateUI();

// 自動クリック
setInterval(()=>{
  coin += autoClick;
  updateUI();
},1000);

// 手札
const cards = ["card1","card2","card3","card4","card5","card6","card7"];
let hand = [];
function drawCard(){
  if(hand.length >= 7) return;
  const c = cards[Math.floor(Math.random()*cards.length)];
  hand.push(c);
  renderHand();
}
function renderHand(){
  const ul = document.getElementById("cardList");
  ul.innerHTML = "";
  hand.forEach(c=>{
    const li = document.createElement("li");
    li.textContent = c;
    ul.appendChild(li);
  });
}

// 毎ターン処理
setInterval(()=>{
  mana += 1;
  drawCard();
  updateUI();
},3000);

// Click
const clickImg = document.getElementById("clickImg");
clickImg.onclick = ()=>{
  coin += clickLv;
  updateUI();
};

// スロットUI
const slotGrid = document.getElementById("slotGrid");
let spinning=[false,false,false];
let reel=[[],[],[]];

function initSlot(){
  slotGrid.innerHTML="";
  for(let i=0;i<3;i++){
    const t=document.createElement("div");
    const m=document.createElement("div");
    const b=document.createElement("div");
    t.className=m.className=b.className="slot-cell";
    reel[i]=[t,m,b];
    slotGrid.appendChild(t);
    slotGrid.appendChild(m);
    slotGrid.appendChild(b);
  }
}
initSlot();

function rollReel(i){
  spinning[i]=true;
  const loop=()=>{
    if(!spinning[i]) return;
    reel[i].forEach(c=>{
      c.style.backgroundImage = `url(${slotImages[Math.floor(Math.random()*slotImages.length)]})`;
    });
    requestAnimationFrame(loop);
  };
  loop();
}
function stopReel(i){ spinning[i]=false; checkReward(); }

function checkReward(){
  if(spinning.some(v=>v)) return;
  const mid = reel.map(col=>col[1].style.backgroundImage);
  if(mid[0]===mid[1] && mid[1]===mid[2]){
    coin+=40;
    updateUI();
    alert("あたり！ +40");
  }
}

// ボタン
spinBtn.onclick=()=>{
  if(coin<20) return;
  coin-=20;
  updateUI();
  rollReel(0); rollReel(1); rollReel(2);
};
stop1.onclick=()=>stopReel(0);
stop2.onclick=()=>stopReel(1);
stop3.onclick=()=>stopReel(2);
</script>
</body>
</html>
